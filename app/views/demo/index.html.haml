%h2 View Components
= render CardComponent.new(title: 'Books') do
  .row
    .col-2
      %form.mb-3.d-flex{method: :get}
        - options = [['Title', 'title'], ['Author', 'author'], ['Genre', 'genre']]
        = select_tag :books_sort_by, options_for_select(options, params[:books_sort_by]), include_blank: 'Sort by', class: 'form-select me-2'
        %button.btn.btn-primary{type: :submit} Sort
  .row
    - @books.each_slice(8) do |books|
      .col
        %ul
          - books.each do |book|
            %li
              = render BookItemComponent.new(book)

  = pagy_bootstrap_nav(@pagy_books).html_safe if @pagy_books.pages > 1

= render CardComponent.new(title: 'Characters') do
  .row
    .col-2
      %form.mb-3.d-flex{method: :get}
        - options = [['First Name', 'first_name'], ['Last Name', 'last_name'], ['Race', 'race'], ['Class', 'klass']]
        = select_tag :characters_sort_by, options_for_select(options, params[:character_sort_by]), include_blank: 'Sort by', class: 'form-select me-2'
        %button.btn.btn-primary{type: :submit} Sort
  .row
    - @characters.each_slice(4) do |characters|
      .col
        %ul
          - characters.each do |character|
            %li
              = render CharacterItemComponent.new(character)

  = pagy_bootstrap_nav(@pagy_characters).html_safe if @pagy_characters.pages > 1
